{% extends "base.html" %} {% block title %}Weekly Calendar{% endblock %} {%
block content %}
<h1>Weekly Calendar View</h1>

{% for week, week_data in calendar_data.items() %}
<h2>Week {{ week }}</h2>
<table class="dataTable">
  <thead>
    <tr>
      <th>Role / Day</th>
      {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',
      'Saturday', 'Sunday'] %}
      <th>{{ day }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for role in ['Duty Manager', 'Tactical Lead'] %}
    <!-- Generate 2 rows for each shift -->
    {% for shift_num in range(2) %}
    <tr>
      <td>{{ role }} {{ shift_num + 1 }}</td>
      {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',
      'Saturday', 'Sunday'] %}
      <td>
        {% if week_data[day][role] | length > shift_num %} {{
        week_data[day][role][shift_num]['name'] }} {% else %} &nbsp; {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %} {% endfor %}
  </tbody>
</table>
{% endfor %} {% endblock %}
